---
title: Manifest schema
---

# Manifest schema

Every path declaration writes a JSON manifest alongside the TeX file so tooling
and tests can inspect the data without parsing TeX. This document defines the
format.

## Path manifest (`path-<safe>-<hash>.json`)

Generated by `manifest.to_json_obj(name, lp)` inside
`lpm_paths.emitters.tex.TeXEmitter.write_path`.

```json
{
  "name": "demo",
  "bits": "01011010",
  "coords": [[0,0], [1,0], ...],
  "upmarks": [2,4,7]
}
```

- `name`: original string passed to `\lpDeclarePath`.
- `bits`: the exact bit string used to build the path.
- `coords`: list of `[x, y]` integer pairs, length `len(bits)+1`.
- `upmarks`: list of step indices (1-based) marking North steps.

Additional fields (e.g., corners) can be appended in future versions; keep
consumers tolerant to extra keys.

## Between polygons

Between-region cache files are TeX-only today. If a JSON manifest becomes
necessary, follow the same pattern:

```json
{
  "lower_bits": "...",
  "upper_bits": "...",
  "coords": [[x0,y0], ...]
}
```

The hash payload already includes both bit strings and the emitter version, so
adding a JSON companion later will not break existing cache entries.

## Versioning guidelines

- When adding new fields to the manifest, bump `EMITTER_VERSION`.
- Preserve existing keys to maintain compatibility with older tools.
- Prefer additive changes; if a field must be renamed or removed, keep the old
  data for one interim release and mark it as deprecated in the changelog.
